Cross-site Request Forgery: 
跨站请求伪造，
用js、表单等技术，去作一些本应该用户本身才能做的操作。
攻击者盗用了你的身份，以你的名义发送恶意请求，对服务器来说这个请求是完全合法的，但是却完成了攻击者所期望的一个操作。
在做一些敏感操作前，仅校验了身份和权限，没有校验请求发起者本人意愿性。如：敏感操作前没有先输入验证码、表单没有唯一值的csrf_token参数。

简单来说就是伪造未授权访问。


## **场景**
**配合XSS：**
xss伪造请求，让受害者无知觉cookie被盗取，或盗用，进行操作，如自动修改密码，自动转账，自动修改绑定的邮箱，自动发送验证码，自动使用余额购买商品等。



^
场景：
a 用户访问过站点A并产生了cookie,
a用户没有退出A同时访问了B站点，在B站点里存在csrf访问A地址敏感操作，
应该会先触发 CORS 吧？

会触发同源策略机制，但是不影响csrf请求发出。
——虽然A和B站点非同源，B站点脚本无法操作A站点网页数据，但是不影响它向A站点的后端发送请求，即便后端没有开启CORS，也是可以正常返回（前提是没有校验referer字段）响应数据给浏览器的，只不过浏览器会报错，拿不到响应数据。



^
## **referer绕过**
1、浏览器客户端ajax是无法自定义referer头，是失效的。编程语言发起请求可以自定义。
2、仅校验是否包含域名，可以伪造q.com.xx.top的子域名。
3、校验*.q.com，则在子域名的网站上找到xss组合拳。


^
如果token在url的get参数上，还可以通过referer带出来。